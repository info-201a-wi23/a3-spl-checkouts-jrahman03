---
title: "A3: SPL Library Checkouts"
output: html_document
---

### Introduction

The dataset I've chosen to explore is the Dataset with all items checked out in 2022-2023. The main reasoning for choosing this dataset is because I'm most interested in whats relevant today, so I can draw conclusions about how much trends have changed from the past to present day. Also, that data set is the happy medium my computer can handle as supposed to the other two. 

### Summary Information
```{r echo=FALSE, warning=FALSE, message=FALSE}
library("dplyr")

spl_df <- read.csv("~/Desktop/2022-2023-All-Checkouts-SPL-Data.csv", stringsAsFactors = F)

# Formatting Dates
spl_df <- spl_df %>% mutate(date = paste0(CheckoutYear, "-", CheckoutMonth, "-01"))
spl_df$date <- as.Date(spl_df$date, format = "%Y-%m-%d" )

total_checkouts <- spl_df %>% summarize(total_checkouts = sum(Checkouts))

min_checkout_month <- spl_df %>% group_by(date) %>% summarise(total_checkouts = sum(Checkouts)) %>% filter(total_checkouts == min(total_checkouts))

max_checkout_month <- spl_df %>% group_by(date) %>% summarise(total_checkouts = sum(Checkouts)) %>% filter(total_checkouts == max(total_checkouts))

most_popular_item <- spl_df %>% group_by(Title) %>% summarise(total_checkouts = sum(Checkouts)) %>% filter(total_checkouts == max(total_checkouts)) %>% pull(total_checkouts)

least_popular_item <- spl_df %>% group_by(Title) %>% summarise(total_checkouts = sum(Checkouts)) %>% filter(total_checkouts == min(total_checkouts)) %>% pull(total_checkouts)

```

During my investigation with this dataset, I found 5 calculated values using DPlYR that I found especially relevant. Firstly, after calculating the `total_checkouts` within the dataset, I found the value to be an astonishing 9196991. Secondly, I calcuated the `min_checkout_month` or the earliest month recorded checkouts and found it out to be a low 637979 while the `max_checkout_month` is 794615. In addition, I was very interested to find the most and least popular items checked out in the dataset and found the `least_popular_item` to be a book by Jude Buffum with only 1 checkout and the`most_popular_item` to be Head Phones with 21155 checkouts. Overall, its so interesting to see how Head Phones are the most popular item in a library when the main content of a library are books. 

### The Dataset

-   Who collected/published the data?\

The publishers and collectors of this data are Seattle Open Data and the Seattle Public Library


-   What are the parameters of the data (dates, number of checkouts, kinds of books, etc.)?

The parameters of the data include UsageClass, CheckoutType, MaterialType, CheckoutYear, CheckoutMonth, Checkouts, Title, ISBN, Creator, Subjects, Publisher, and PublicationYear. 

-   How was the data collected or generated?\

The data was generated by the community checkouts within the Seattle Public Libraries. 

-   Why was the data collected?\

The data was collected in order to improve public understanding, generate economic opportunity, empower employees, and encorage the development of information technologies 

-   What, if any, ethical questions do you need to consider when working with this data?\

Ethical questions I need to consider when working with this data is who collected this data and if they collected it in an ethical manner. I also have to consider if the information within the dataset is okay to be publicized. 

-   What are possible limitations or problems with this data? (at least 200 words)

Possible limitations and problems with this data include a lot of things. For one, the way the dates are presented within the data set makes it extremely hard to filter. To explain, some dates have random characters embedded within them, making it so I have to use the as.Date function to ensure all the dates are uniform. In addition, some authors have the same name within the dataset so distinguishing them from each other becomes quite hard for those who can tell the difference by just the title. Furthermore, there are an overwhelming number of subjects for some titles which makes it difficult to filter for subjects. In other words, the subjects are a little too detailed making it hard for me to filter them into broader categories. In addition, some titles have two dashes before the actual title name which makes it a big problem when trying to use str_detect. Lastly, there appears to be no data on books that haven't been checked out. This is a big problem as one of my research questions was to find the least popular titles however if a book isnâ€™t checked out at all it does not appear within the data set. 

### First Trends Over Time Chart

For the First Chart I decided to see the trend of Checkouts for George Orwell Works. He is one of my favorite authors and overall publishes very thought-provoking books. One interesting trend I found in this chart is how the Total Checkouts spiked from Oct 2022 to Jan 2023. Perhaps more of his books just came out that I'm unaware of.

```{r, echo = FALSE, code = readLines("chart1jr.R")}
```

### Second Trends Over Time Chart

For the Second Chart, I decided to see the of Digital vs Physical Checkouts per Month. I was interested in this question since society has seemingly grew extremely fond of digital books for environmental reasons. Overall, both trend lines for Physical and Digital Checkouts grew quite paralel. 

```{r, echo = FALSE, code = readLines("chart2jr.R")}
```

### Your Choice

For my last chart I decided create a comparison between the Hunger Games vs Divergent checkouts. I feel like most people only like one or the other, I personally am a Hunger Games fan but the Divergent movies are interesting. Thankfully however the bar graph shows that the Hunger Games titles severly beat all Divergent titles by a significant margin. Hooray!

```{r, echo = FALSE, code = readLines("chart3jr.R")}
```
